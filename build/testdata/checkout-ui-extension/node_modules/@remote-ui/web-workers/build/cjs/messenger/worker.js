'use strict';

Object.defineProperty(exports, '__esModule', { value: true });

function createWorkerMessenger(url) {
  var workerScript = URL.createObjectURL(new Blob(["importScripts(".concat(JSON.stringify(url.href), ")")]));
  var worker = new Worker(workerScript);
  var originalTerminate = worker.terminate.bind(worker);

  worker.terminate = function () {
    URL.revokeObjectURL(workerScript);
    originalTerminate();
  };

  return worker;
}

exports.createWorkerMessenger = createWorkerMessenger;
