"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.endpoint = void 0;
const rpc_1 = require("@remote-ui/rpc");
const endpoint = rpc_1.createEndpoint(rpc_1.fromWebWorker(self), {
    callable: [],
});
exports.endpoint = endpoint;
self.addEventListener('message', ({ data }) => {
    if (data == null) {
        return;
    }
    if (data.__replace instanceof MessagePort) {
        endpoint.replace(data.__replace);
        data.__replace.start();
    }
});
Object.defineProperty(self, 'endpoint', {
    value: endpoint,
    enumerable: false,
    writable: false,
    configurable: true,
});
