'use strict';

Object.defineProperty(exports, '__esModule', { value: true });

var react = require('react');
var webWorkers = require('@remote-ui/web-workers');

function useWorker(creator) {
  var workerRef = react.useRef(null);

  if (workerRef.current === null) {
    for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
      args[_key - 1] = arguments[_key];
    }

    workerRef.current = creator.apply(void 0, args);
  }

  var worker = workerRef.current;
  react.useEffect(function () {
    return function () {
      webWorkers.terminate(worker);
    };
  }, [worker]);
  return worker;
}

exports.useWorker = useWorker;
