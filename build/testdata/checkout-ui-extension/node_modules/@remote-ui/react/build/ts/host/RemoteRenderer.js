"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.RemoteRenderer = void 0;
const jsx_runtime_1 = require("react/jsx-runtime");
const react_1 = require("react");
const core_1 = require("@remote-ui/core");
const hooks_1 = require("./hooks");
exports.RemoteRenderer = react_1.memo(({ controller, receiver }) => {
    const { children } = hooks_1.useAttached(receiver, receiver.attached.root);
    const { renderComponent, renderText } = controller.renderer;
    return (jsx_runtime_1.jsx(jsx_runtime_1.Fragment, { children: children.map((child) => {
            switch (child.kind) {
                case core_1.KIND_COMPONENT:
                    return renderComponent({
                        component: child,
                        receiver,
                        controller,
                        key: child.id,
                    });
                case core_1.KIND_TEXT:
                    return renderText({
                        text: child,
                        receiver,
                        key: child.id,
                    });
                default:
                    return null;
            }
        }) }, void 0));
});
